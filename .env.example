# ==========================================
#       网关 - 环境变量配置模板
# ==========================================
#
# 使用方法:
#   1. 复制此文件: cp .env.example .env
#   2. 填写实际值
#   3. 生成强密码: openssl rand -base64 32
#

# ===== 基础配置 =====
DOMAIN=yourdomain.com
EMAIL=admin@yourdomain.com

# ===== Cloudflare API 配置 =====
# 推荐使用 API Token (更安全，权限更细)
# 获取方式: Cloudflare Dashboard → My Profile → API Tokens → Create Token
# 选择 "Edit zone DNS" 模板，权限: Zone-DNS-Edit, Zone-Zone-Read
CF_DNS_API_TOKEN=your-cloudflare-api-token-here

# 或使用 Global API Key (不推荐，权限过大)
# CF_API_EMAIL=your-cloudflare-email@example.com
# CF_API_KEY=your-global-api-key-here

# ===== DNS 自动管理配置 =====
# DNS Manager 日志级别 (DEBUG, INFO, WARNING, ERROR)
DNS_LOG_LEVEL=INFO

# ===== PostgreSQL 数据库配置 =====
POSTGRES_USER=keycloak
POSTGRES_PASSWORD=请替换为强密码
POSTGRES_DB=keycloak

# ===== Keycloak 认证服务配置 =====
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=请替换为强密码

# ===== Grafana 监控配置 =====
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=请替换为强密码

# ===== SMTP 邮件配置 =====
# 用于发送告警邮件
# QQ 邮箱示例 (其他邮箱请修改 SMTP_HOST 和 SMTP_PORT)
SMTP_HOST=smtp.qq.com
SMTP_PORT=587
SMTP_USER=your-email@qq.com
SMTP_PASSWORD=your-smtp-authorization-code
ALERT_EMAIL=alert-receiver@example.com

# ===== 钉钉 Webhook (可选) =====
# 创建方式: 钉钉群 → 群设置 → 智能群助手 → 添加机器人 → 自定义
DINGTALK_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=your-token-here

# ===== 企业微信 Webhook (可选) =====
# 创建方式: 企业微信群 → 群设置 → 群机器人 → 添加机器人
WECHAT_WEBHOOK=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key-here

# ===== 阿里云短信配置 (可选) =====
# 获取方式: 阿里云控制台 → AccessKey 管理
ALIYUN_ACCESS_KEY=your-aliyun-access-key
ALIYUN_ACCESS_SECRET=your-aliyun-access-secret
ALIYUN_SMS_SIGN=your-sms-signature
ALIYUN_SMS_TEMPLATE=SMS_123456789
ALERT_PHONE=13800138000

# ===== 腾讯云短信配置 (可选,暂未实现) =====
# TENCENT_SECRET_ID=your-secret-id
# TENCENT_SECRET_KEY=your-secret-key
# TENCENT_SMS_APP_ID=your-app-id
# TENCENT_SMS_SIGN=your-sms-signature
# TENCENT_SMS_TEMPLATE_ID=123456

# ==========================================
# 配置说明:
# ==========================================
#
# 1. DOMAIN: 你的域名,所有服务将使用子域名访问
#    例如: example.com → traefik.example.com, auth.example.com
#
# 2. Cloudflare API:
#    - CF_API_EMAIL: Cloudflare 账号邮箱
#    - CF_API_KEY: Global API Key 或 API Token
#    获取: https://dash.cloudflare.com/profile/api-tokens
#
# 3. 数据库密码:
#    强烈建议使用随机生成的强密码
#    生成命令: openssl rand -base64 32
#
# 4. SMTP 配置:
#    - QQ 邮箱需要使用"授权码"而非密码
#    - Gmail 需要启用"应用专用密码"
#    - 企业邮箱请咨询管理员
#
# 5. 钉钉/企业微信 Webhook:
#    在群聊中添加自定义机器人即可获得 Webhook URL
#
# 6. 阿里云短信:
#    - 需要先在阿里云开通短信服务
#    - 创建短信签名和模板
#    - 短信模板参数应包含: ${alertname}, ${instance}, ${summary}
#
# ==========================================
